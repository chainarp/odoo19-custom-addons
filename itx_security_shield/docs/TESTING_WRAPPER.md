# ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö Python Wrapper - ITX Security Shield

‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö Python wrapper ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤

---

## üìã ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç

1. [‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô](#‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô)
2. [‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå](#‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå)
3. [‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö](#‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö)
4. [‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î](#‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î)
5. [‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô](#‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)
6. [‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤](#‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤)
7. [‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°](#‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°)

---

## ‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô

### ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö
- **OS**: Linux (Ubuntu 20.04+, Debian 10+)
- **Python**: 3.8+
- **C Library**: libintegrity.so (‡∏ï‡πâ‡∏≠‡∏á compile ‡πÅ‡∏•‡πâ‡∏ß)

### ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á Virtual Environment
Python wrapper ‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡πÅ‡∏Ñ‡πà **standard library** (ctypes) ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á activate venv ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á package ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö

```bash
# 1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ C library ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà
ls -lh /home/chainarp/PycharmProjects/odoo19/custom_addons/itx_security_shield/native/libintegrity.so

# 2. ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ ‡πÉ‡∏´‡πâ compile
cd /home/chainarp/PycharmProjects/odoo19/custom_addons/itx_security_shield/native
./dev.sh prod

# 3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Python version
python3 --version
# ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô Python 3.8 ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ
```

---

## ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå

```
itx_security_shield/
‚îú‚îÄ‚îÄ lib/                          # Python wrapper
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py               # Package init
‚îÇ   ‚îú‚îÄ‚îÄ verifier.py               # Main wrapper class (ITXSecurityVerifier)
‚îÇ   ‚îî‚îÄ‚îÄ exceptions.py             # Custom exceptions (6 classes)
‚îÇ
‚îú‚îÄ‚îÄ native/                       # C library
‚îÇ   ‚îú‚îÄ‚îÄ libintegrity.so           # Compiled library
‚îÇ   ‚îú‚îÄ‚îÄ src/                      # C source files
‚îÇ   ‚îú‚îÄ‚îÄ include/                  # Header files
‚îÇ   ‚îî‚îÄ‚îÄ dev.sh                    # Build script
‚îÇ
‚îú‚îÄ‚îÄ tests/                        # Test scripts
‚îÇ   ‚îî‚îÄ‚îÄ test_wrapper.py           # Original test suite
‚îÇ
‚îú‚îÄ‚îÄ test_all_functions.py         # Comprehensive function test
‚îî‚îÄ‚îÄ docs/                         # Documentation
    ‚îî‚îÄ‚îÄ TESTING_WRAPPER.md        # This file
```

---

## ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å Function (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥!)

```bash
cd /home/chainarp/PycharmProjects/odoo19/custom_addons/itx_security_shield
python3 test_all_functions.py
```

**‡∏ó‡∏î‡∏™‡∏≠‡∏ö 9 Functions:**
1. `__init__()` - Initialization (3 ‡πÅ‡∏ö‡∏ö: default, debug, custom path)
2. `get_hardware_info()` - Hardware detection
3. `get_fingerprint()` - SHA-256 fingerprint generation
4. `is_docker()` - Docker detection
5. `is_vm()` - Virtual machine detection
6. `is_debugger_attached()` - Debugger detection
7. `verify()` - Comprehensive verification
8. Error handling - Exception tests
9. `__repr__()` - String representation

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á:**
```
Total: 9/9 functions passed
‚úì All functions tested successfully!
```

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

```bash
cd /home/chainarp/PycharmProjects/odoo19/custom_addons/itx_security_shield
python3 tests/test_wrapper.py
```

**‡∏ó‡∏î‡∏™‡∏≠‡∏ö 6 Test Cases:**
- Library loading
- Hardware information
- Fingerprint generation
- Environment checks
- Comprehensive verification
- Error handling

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏° Debug Output

```bash
cd /home/chainarp/PycharmProjects/odoo19/custom_addons/itx_security_shield

# ‡πÄ‡∏õ‡∏¥‡∏î debug mode ‡∏Ç‡∏≠‡∏á C library
ITX_DEBUG=1 python3 test_all_functions.py
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**
- ‡πÄ‡∏´‡πá‡∏ô debug messages ‡∏à‡∏≤‡∏Å C library
- ‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏∏‡∏Å step ‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
- ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö troubleshooting

---

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 4: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏ö‡∏ö Interactive (Python REPL)

```bash
cd /home/chainarp/PycharmProjects/odoo19/custom_addons/itx_security_shield
python3
```

```python
# Import wrapper
from lib import ITXSecurityVerifier

# ‡∏™‡∏£‡πâ‡∏≤‡∏á instance
v = ITXSecurityVerifier()

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏µ‡∏•‡∏∞ function
print("Fingerprint:", v.get_fingerprint())
print("Docker:", v.is_docker())
print("VM:", v.is_vm())
print("Debugger:", v.is_debugger_attached())

# ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• hardware
hw = v.get_hardware_info()
print("Machine ID:", hw['machine_id'])
print("CPU:", hw['cpu_model'])
print("Cores:", hw['cpu_cores'])

# Comprehensive verification
result = v.verify()
print(result)

# ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å Python
exit()
```

---

## ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

### Test 1: Quick Test (Fingerprint ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)

```bash
cd /home/chainarp/PycharmProjects/odoo19/custom_addons/itx_security_shield
python3 << 'EOF'
from lib import ITXSecurityVerifier
v = ITXSecurityVerifier()
print("Fingerprint:", v.get_fingerprint())
EOF
```

---

### Test 2: Hardware Information

```bash
cd /home/chainarp/PycharmProjects/odoo19/custom_addons/itx_security_shield
python3 << 'EOF'
from lib import ITXSecurityVerifier
v = ITXSecurityVerifier()
hw = v.get_hardware_info()

print("=== Hardware Information ===")
for key, value in hw.items():
    print(f"{key:20s}: {value}")
EOF
```

---

### Test 3: Environment Detection

```bash
cd /home/chainarp/PycharmProjects/odoo19/custom_addons/itx_security_shield
python3 << 'EOF'
from lib import ITXSecurityVerifier
v = ITXSecurityVerifier()

print("=== Environment Detection ===")
print(f"Docker:   {v.is_docker()}")
print(f"VM:       {v.is_vm()}")
print(f"Debugger: {v.is_debugger_attached()}")
EOF
```

---

### Test 4: Comprehensive Verification

```bash
cd /home/chainarp/PycharmProjects/odoo19/custom_addons/itx_security_shield
python3 << 'EOF'
from lib import ITXSecurityVerifier
v = ITXSecurityVerifier()

result = v.verify()
print("=== Comprehensive Verification ===")
print("\nHardware:")
for k, v in result['hardware'].items():
    print(f"  {k}: {v}")
print(f"\nFingerprint: {result['fingerprint']}")
print("\nEnvironment:")
for k, v in result['environment'].items():
    print(f"  {k}: {v}")
EOF
```

---

### Test 5: Error Handling

```bash
cd /home/chainarp/PycharmProjects/odoo19/custom_addons/itx_security_shield
python3 << 'EOF'
from lib import ITXSecurityVerifier, LibraryError

# Test 1: Invalid library path
print("=== Error Handling Test ===\n")
try:
    v = ITXSecurityVerifier(library_path="/invalid/path.so")
except LibraryError as e:
    print(f"‚úì LibraryError caught successfully")
    print(f"  Message: {str(e)[:100]}...")

# Test 2: Normal operation
print("\n‚úì Normal operation test")
try:
    v = ITXSecurityVerifier()
    fp = v.get_fingerprint()
    print(f"  Fingerprint: {fp[:20]}...")
except Exception as e:
    print(f"‚úó Error: {e}")
EOF
```

---

### Test 6: Debug Mode

```bash
cd /home/chainarp/PycharmProjects/odoo19/custom_addons/itx_security_shield
python3 << 'EOF'
# Enable debug mode
from lib import ITXSecurityVerifier

print("=== Debug Mode Test ===\n")
v = ITXSecurityVerifier(debug=True)
print(f"Debug enabled: {v.debug}")
print(f"Library path: {v._library_path}")

# Get fingerprint (will show C library debug output)
fp = v.get_fingerprint()
print(f"\nFingerprint: {fp}")
EOF
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** Debug mode ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á output ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠ C library ‡∏ñ‡∏π‡∏Å compile ‡∏î‡πâ‡∏ß‡∏¢ `-DITX_DEBUG_ENABLED`

---

### Test 7: Performance Test

```bash
cd /home/chainarp/PycharmProjects/odoo19/custom_addons/itx_security_shield
python3 << 'EOF'
import time
from lib import ITXSecurityVerifier

v = ITXSecurityVerifier()

print("=== Performance Test ===\n")

# Test fingerprint generation speed
start = time.time()
for i in range(100):
    fp = v.get_fingerprint()
end = time.time()

print(f"100 fingerprint generations: {end - start:.4f} seconds")
print(f"Average per call: {(end - start) / 100 * 1000:.2f} ms")
EOF
```

---

## ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 1: Basic Usage

```python
from lib import ITXSecurityVerifier

# Initialize
verifier = ITXSecurityVerifier()

# Get fingerprint
fingerprint = verifier.get_fingerprint()
print(f"Hardware fingerprint: {fingerprint}")

# Check environment
if verifier.is_docker():
    print("Running in Docker container")
if verifier.is_vm():
    print("Running in virtual machine")
```

---

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 2: With Error Handling

```python
from lib import (
    ITXSecurityVerifier,
    LibraryError,
    HardwareDetectionError,
    FingerprintError,
    PermissionError,
)

try:
    # Initialize verifier
    verifier = ITXSecurityVerifier()

    # Get hardware information
    hw_info = verifier.get_hardware_info()
    print(f"Machine ID: {hw_info['machine_id']}")

    # Generate fingerprint
    fingerprint = verifier.get_fingerprint()
    print(f"Fingerprint: {fingerprint}")

except LibraryError as e:
    print(f"Library error: {e}")
    # Handle library loading issues
    # - Recompile C library
    # - Check library path

except HardwareDetectionError as e:
    print(f"Hardware detection error: {e}")
    if e.missing_fields:
        print(f"Missing fields: {', '.join(e.missing_fields)}")
    # Handle missing hardware info
    # - Check permissions (may need sudo)
    # - Check if running in container

except FingerprintError as e:
    print(f"Fingerprint error: {e}")
    # Handle fingerprint generation issues

except PermissionError as e:
    print(f"Permission error: {e}")
    # Handle insufficient permissions
    # - Run with sudo
    # - Check file permissions
```

---

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 3: License Verification (Concept)

```python
from lib import ITXSecurityVerifier
import json

def verify_license(license_file_path):
    """Verify hardware-bound license file"""

    # Get current hardware fingerprint
    verifier = ITXSecurityVerifier()
    current_fingerprint = verifier.get_fingerprint()

    # Load license file
    with open(license_file_path, 'r') as f:
        license_data = json.load(f)

    # Compare fingerprints
    if license_data['fingerprint'] == current_fingerprint:
        print("‚úì License valid for this hardware")
        return True
    else:
        print("‚úó License invalid: hardware mismatch")
        print(f"  Expected: {license_data['fingerprint']}")
        print(f"  Current:  {current_fingerprint}")
        return False

# Usage
if verify_license('/path/to/license.json'):
    print("Starting application...")
else:
    print("License verification failed!")
    exit(1)
```

---

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 4: Generate License File

```python
from lib import ITXSecurityVerifier
import json
from datetime import datetime, timedelta

def generate_license(output_path, valid_days=365):
    """Generate hardware-bound license file"""

    verifier = ITXSecurityVerifier()

    # Collect hardware information
    hw_info = verifier.get_hardware_info()
    fingerprint = verifier.get_fingerprint()

    # Create license data
    license_data = {
        'fingerprint': fingerprint,
        'machine_id': hw_info['machine_id'],
        'issued_at': datetime.now().isoformat(),
        'expires_at': (datetime.now() + timedelta(days=valid_days)).isoformat(),
        'hardware': {
            'cpu_model': hw_info['cpu_model'],
            'cpu_cores': hw_info['cpu_cores'],
            'is_vm': hw_info['is_vm'],
            'is_docker': hw_info['is_docker'],
        }
    }

    # Save license file
    with open(output_path, 'w') as f:
        json.dump(license_data, f, indent=2)

    print(f"‚úì License generated: {output_path}")
    print(f"  Valid for: {valid_days} days")
    print(f"  Fingerprint: {fingerprint}")

    return license_data

# Usage
license = generate_license('/tmp/license.json', valid_days=365)
```

---

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà 5: Odoo Integration

```python
# In Odoo addon
from odoo import models, api
from odoo.exceptions import ValidationError

class LicenseManager(models.Model):
    _name = 'license.manager'

    @api.model
    def verify_hardware_license(self):
        """Verify hardware-bound license on Odoo startup"""
        try:
            from odoo.addons.itx_security_shield.lib import ITXSecurityVerifier

            verifier = ITXSecurityVerifier()
            current_fp = verifier.get_fingerprint()

            # Get stored license fingerprint from database
            license_rec = self.env['license.key'].search([('active', '=', True)], limit=1)

            if not license_rec:
                raise ValidationError("No active license found!")

            if license_rec.fingerprint != current_fp:
                raise ValidationError(
                    f"Hardware mismatch!\n"
                    f"License fingerprint: {license_rec.fingerprint}\n"
                    f"Current fingerprint: {current_fp}"
                )

            return True

        except Exception as e:
            raise ValidationError(f"License verification failed: {e}")
```

---

## ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 1: Library Not Found

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:**
```
LibraryError: Could not find libintegrity.so
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```bash
# 1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ library ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà
ls -la /home/chainarp/PycharmProjects/odoo19/custom_addons/itx_security_shield/native/libintegrity.so

# 2. ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ ‡πÉ‡∏´‡πâ compile
cd /home/chainarp/PycharmProjects/odoo19/custom_addons/itx_security_shield/native
./dev.sh prod

# 3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
ls -la libintegrity.so
```

---

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 2: Permission Denied

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:**
```
HardwareDetectionError: Some hardware information is unavailable
Missing fields: ['dmi_uuid', 'disk_uuid']
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```bash
# ‡∏ö‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• hardware ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ root permission
sudo python3 test_all_functions.py

# ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° permissions ‡πÉ‡∏´‡πâ user
sudo chmod +r /sys/class/dmi/id/product_uuid
```

---

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 3: Missing Dependencies

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:**
```
OSError: libssl.so.3: cannot open shared object file
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```bash
# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á OpenSSL libraries
sudo apt-get update
sudo apt-get install libssl-dev

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö dependencies
ldd /home/chainarp/PycharmProjects/odoo19/custom_addons/itx_security_shield/native/libintegrity.so
```

---

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 4: Python Import Error

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:**
```
ModuleNotFoundError: No module named 'lib'
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```bash
# ‡∏ï‡πâ‡∏≠‡∏á cd ‡πÑ‡∏õ‡∏ó‡∏µ‡πà addon directory ‡∏Å‡πà‡∏≠‡∏ô
cd /home/chainarp/PycharmProjects/odoo19/custom_addons/itx_security_shield

# ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° path
python3 -c "import sys; sys.path.insert(0, '/home/chainarp/PycharmProjects/odoo19/custom_addons/itx_security_shield'); from lib import ITXSecurityVerifier; print(ITXSecurityVerifier())"
```

---

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 5: C Library Version Mismatch

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:**
```
LibraryError: Invalid library: missing required functions
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```bash
# Recompile C library
cd /home/chainarp/PycharmProjects/odoo19/custom_addons/itx_security_shield/native

# Clean ‡πÅ‡∏•‡∏∞ rebuild
rm -f libintegrity.so *.o
./dev.sh prod

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö symbols ‡πÉ‡∏ô library
nm -D libintegrity.so | grep itx_
```

---

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 6: Debug Output Not Showing

**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:**
Debug mode enabled ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô debug messages

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
```bash
# C library ‡∏ï‡πâ‡∏≠‡∏á compile ‡∏î‡πâ‡∏ß‡∏¢ debug flag
cd /home/chainarp/PycharmProjects/odoo19/custom_addons/itx_security_shield/native

# Rebuild with debug
./dev.sh debug

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö
cd ..
ITX_DEBUG=1 python3 test_all_functions.py
```

---

## ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

### ‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

**Fingerprint:**
- Format: 64-character hexadecimal string
- Example: `44739f4d4ecc13900b345178efd217c5b7c3bdffdb994a3626a1fee8cd4cfde1`
- Algorithm: SHA-256

**Hardware Info Fields:**
- `machine_id`: Linux machine ID (from /etc/machine-id)
- `cpu_model`: CPU model name
- `cpu_cores`: Number of CPU cores
- `mac_address`: MAC address (first non-loopback)
- `dmi_uuid`: DMI/SMBIOS UUID
- `disk_uuid`: Root filesystem UUID
- `is_docker`: Boolean
- `is_vm`: Boolean
- `debugger_detected`: Boolean

---

### Exception Hierarchy

```
ITXSecurityError (base)
‚îú‚îÄ‚îÄ LibraryError              # C library loading/initialization
‚îú‚îÄ‚îÄ HardwareDetectionError    # Hardware info retrieval
‚îú‚îÄ‚îÄ FingerprintError          # Fingerprint generation
‚îú‚îÄ‚îÄ PermissionError           # Insufficient permissions
‚îî‚îÄ‚îÄ PlatformError             # Unsupported platform
```

---

### Performance Benchmarks

‡∏ö‡∏ô VMware VM (Intel i7-9700, 8 cores):
- **Library loading:** ~2-5 ms
- **Hardware info collection:** ~10-20 ms
- **Fingerprint generation:** ~15-25 ms
- **Environment checks:** ~5-10 ms each

---

### Debug Logging Levels

‡πÄ‡∏°‡∏∑‡πà‡∏≠ compile ‡∏î‡πâ‡∏ß‡∏¢ `-DITX_DEBUG_ENABLED`:

```bash
# ‡πÑ‡∏°‡πà‡∏°‡∏µ debug output
python3 test_all_functions.py

# ‡∏°‡∏µ debug output
ITX_DEBUG=1 python3 test_all_functions.py
```

Debug messages ‡∏à‡∏≤‡∏Å C library:
- `[ITX DEBUG]` - Information
- `[ITX WARN]` - Warnings
- `[ITX ERROR]` - Errors

---

### ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

- **C Library**: `native/docs/DEBUG_GUIDE.md`
- **Build Script**: `native/dev.sh --help`
- **Odoo Integration**: `../README.md`
- **API Reference**: `lib/verifier.py` (docstrings)

---

### ‡∏™‡∏£‡∏∏‡∏õ Quick Reference

```bash
# Location
cd /home/chainarp/PycharmProjects/odoo19/custom_addons/itx_security_shield

# Quick test
python3 test_all_functions.py

# With debug
ITX_DEBUG=1 python3 test_all_functions.py

# Interactive
python3 -c "from lib import ITXSecurityVerifier; v=ITXSecurityVerifier(); print(v.get_fingerprint())"

# Rebuild C library
cd native && ./dev.sh prod && cd ..
```

---

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠:** 2025-12-01
**‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô:** 1.0.0
**‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô:** ITX Corporation (with Claude Code assistance)
